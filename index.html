<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Portfolio</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="button.css">
</head>
<body>
    <section class="header" role="banner">
        <div class="name">
            <div class="text">Hector Rameau</div>
            <img src="image/device-dots.png" alt="" class="device-dots__img">
        </div>

        <!-- buttons must be children of .tabs -->
        <div class="tabs" role="tablist" aria-label="Sections">
            <div class="small-screws">
                <div class="small-screw-blue"></div>
                <div class="small-screw-blue"></div>
            </div>
            <button class="tablinks" onclick="openTab(event, 'Highlights')" id="defaultOpen">Highlights</button>
            <button class="tablinks" onclick="openTab(event, 'ExploreProjects'), getCSVRowByName('portfolioPersonal.csv', 'DYSON SPHERE INITIATIVE')">Personal</button>
            <button class="tablinks" onclick="openTab(event, 'ExploreProjects'), getCSVRowByName('portfolioPersonal.csv', 'Hellscape')">School</button>
            <button class="tablinks" onclick="openTab(event, 'Professional')">Professional</button>
            <button class="tablinks" onclick="openTab(event, 'About Me')">About Me</button>

            <div class="small-screws">
                <div class="small-screw-blue"></div>
                <div class="small-screw-blue"></div>
            </div>
        </div>

        <div class="contact">
            <a href="https://www.linkedin.com/in/hector-rameau-04967622b/" target="_blank" class="content-max-height content-max-width">
                <button class="pushButton contactButton" title="go to linkedin" type="button" role="contact" aria-selected="true">Contact</button>
            </a>
        </div>
    </section>

    <!-- Pages -->

    <section class="pages">
        <div id="Highlights" class="page tabcontent content-fit-height">
            <div class="container-full tab_content_flex_row">
                <div class="title center">
                    Darkest Night
                </div>
                <div class="preview-card">
                    <video src="vidéo\Darkest Night - PPFA_UnityProject_Hector Rameau_GD2 2024-05-29 21-43-35.mp4"></video>
                </div>
                <div class="tags">
                    <div class="tag"><div class="tag_dot"></div>game dev</div>
                    <div class="tag"><div class="tag_dot"></div>unity</div>
                    <div class="tag"><div class="tag_dot"></div>c#</div>
                    <div class="tag"><div class="tag_dot"></div>pixel art</div>
                    <div class="tag"><div class="tag_dot"></div>game design</div>
                </div>
                <div class="container-dark">
                    <button class="pushButton explore" onclick="openTab(event, 'ExploreProjects'), getCSVRowByName('portfolioPersonal.csv', 'Darkest Night')">Explore</button>
                </div>
            </div>
            <div class="container-full tab_content_flex_row">
                <div class="title center">
                    Hellscape
                </div>
                <div class="preview-card">
                    <img src="image/HellScape Menu.png" alt="" class="dot">
                </div>
                <div class="tags">
                    <div class="tag"><div class="tag_dot"></div>game Dev</div>
                    <div class="tag"><div class="tag_dot"></div>UE5</div>
                    <div class="tag"><div class="tag_dot"></div>Unreal Blueprints</div>
                </div>
                <div class="container-dark">
                    <button class="pushButton explore" onclick="openTab(event, 'ExploreProjects'), getCSVRowByName('portfolioPersonal.csv', 'Hellscape')">Explore</button>
                </div>
            </div>
            <div class="container-full tab_content_flex_row">
                <div class="title center">
                    Summoner's Clash
                </div>
                <div class="preview-card">
                    <video src="vidéo\Summoner's Clash by GuyfH3CTOR - Opera 2024-05-29 23-40-30.mp4"></video>
                </div>
                <div class="tags">
                    <div class="tag"><div class="tag_dot"></div>game jam</div>
                    <div class="tag"><div class="tag_dot"></div>game dev</div>
                    <div class="tag"><div class="tag_dot"></div>unity</div>
                    <div class="tag"><div class="tag_dot"></div>c#</div>
                    <div class="tag"><div class="tag_dot"></div>pixel art</div>
                </div>
                <div class="container-dark">
                    <button class="pushButton explore" onclick="openTab(event, 'ExploreProjects'), getCSVRowByName('portfolioPersonal.csv', 'Summoner\'s Clash')">Explore</button>
                </div>
            </div>
        </div>

        <div id="ExploreProjects" class="page tabcontent tab_content_flex_column">

            <!-- page content -->
            <div class="page_content">

                <!-- content title -->
                <div class="container-full content-max-height">
                    <div id="title" class="title center">
                        Summoner's Clash
                    </div>
                    <div id="preview" class="preview-card">
                        <!-- <video src="vidéo\Summoner's Clash by GuyfH3CTOR - Opera 2024-05-29 23-40-30.mp4"></video> -->
                    </div>
                    <div id="tags" class="tags">
                        <!-- <div class="tag"><div class="tag_dot"></div>game jam</div>
                        <div class="tag"><div class="tag_dot"></div>game dev</div>
                        <div class="tag"><div class="tag_dot"></div>unity</div>
                        <div class="tag"><div class="tag_dot"></div>c#</div>
                        <div class="tag"><div class="tag_dot"></div>pixel art</div> -->
                    </div>
                </div>
                
                <!-- content resume -->
                <div class="container-full content_resume">
                    <div id="resume" class="container-dark content-max-height">
                        <!-- Summoner's Clash is a game made for the Ludum Dare 55 Game Jam.
                        <p>Picks cards and find the right combos to destroy your opponent.</p> -->
                    </div>
                    <div class="container-dark">
                        <div class="content">
                            <button class="pushButton linkButton" type="button" role="link" aria-selected="true">Itch.io</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- page button -->
            <div class="container_page_btn">
                <div class="container-dark content-max-height content-max-width">
                    <button id="explorePrevious" class="pushButton page_explore" type="button" role="contact" aria-selected="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.29em" viewBox="0 0 23 20" fill="none">
                            <path d="M10.746 15.5531L7.06338 11.7434L20.1048 11.7434C21.2474 11.7434 22.1736 10.7853 22.1736 9.60327C22.1736 8.42128 21.2474 7.46309 20.1048 7.46309L7.06341 7.46309L10.7461 3.65351C11.5539 2.81766 11.554 1.46257 10.7461 0.626724C9.93824 -0.208777 8.62833 -0.208973 7.82043 0.626527L0.605803 8.08994C-0.201849 8.92569 -0.201977 10.2807 0.605675 11.1165L7.82028 18.5798C8.6282 19.4156 9.93816 19.4155 10.7461 18.5798C11.554 17.744 11.554 16.3889 10.746 15.5531Z" fill="CurrentColor"></path>
                        </svg>
                    </button>
                </div>
                <div class="container-dark">
                    <div id="exploreNumber">0/0</div>
                </div>
                <div class="container-dark content-max-height content-max-width">
                    <button id="exploreNext" class="pushButton page_explore" type="button" role="contact" aria-selected="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.29em" viewBox="0 0 23 20" fill="none" style="rotate: 180deg;">
                            <path d="M10.746 15.5531L7.06338 11.7434L20.1048 11.7434C21.2474 11.7434 22.1736 10.7853 22.1736 9.60327C22.1736 8.42128 21.2474 7.46309 20.1048 7.46309L7.06341 7.46309L10.7461 3.65351C11.5539 2.81766 11.554 1.46257 10.7461 0.626724C9.93824 -0.208777 8.62833 -0.208973 7.82043 0.626527L0.605803 8.08994C-0.201849 8.92569 -0.201977 10.2807 0.605675 11.1165L7.82028 18.5798C8.6282 19.4156 9.93816 19.4155 10.7461 18.5798C11.554 17.744 11.554 16.3889 10.746 15.5531Z" fill="CurrentColor"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!--  -->

        <div id="Professional" class="page tabcontent">

        </div>

        <!--  -->

        <div id="About Me" class="page tabcontent">

        </div>

        <!-- Scripts -->

        <script src="csv.js"></script>
        <script>
            // Get the element with id="defaultOpen" and click on it
            document.getElementById("defaultOpen").click();

            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabName).style.display = "flex";
                evt.currentTarget.className += " active";
            }

            async function getCSVRowByName(csvPath, nameValue) {
                try {
                    const parsed = await window.loadCSV(csvPath);
                    if (!parsed || !parsed.rows) return null;

                    // console.log('CSV Rows:', parsed.rows);
                    // console.log('CSV Rows 0 name:', parsed.rows[0].name);
                    
                    // exact match loop
                    for (let i = 0; i < parsed.rows.length; i++) {
                        const r = parsed.rows[i];
                        if ((r.name || '').trim() === nameValue) {
                            row = r;
                            // console.log('CSV found Row name:', row.name);

                            // set elements
                            // set title
                            document.getElementById("title").innerText = row.name;

                            // set preview

                            // set tags

                            // set resume
                            document.getElementById("resume").innerText = row.description;

                            // set link

                            // explore number
                            document.getElementById("exploreNumber").innerText = (i+1) + "/" + parsed.rows.length;

                            // next page
                            if(i == parsed.rows.length-1) {
                                document.getElementById("exploreNext").onclick = function () { getCSVRowByName(csvPath, parsed.rows[0].name); };
                            } else {
                                document.getElementById("exploreNext").onclick = function () { getCSVRowByName(csvPath, parsed.rows[i+1].name); };
                            }

                            // previous page
                            if(i == 0) {
                                document.getElementById("explorePrevious").onclick = function () { getCSVRowByName(csvPath, parsed.rows[parsed.rows.length-1].name); };
                            } else {
                                document.getElementById("explorePrevious").onclick = function () { getCSVRowByName(csvPath, parsed.rows[i-1].name); };
                            }

                            break;
                        }
                    }

                    return parsed.rows.find(r => r.name === nameValue) || null;
                } catch (e) {
                    console.error('getCSVRowByName error:', e);
                    return null;
                }
            }
        </script>
    </section>
</body>
</html>